ext.custmizeSerenityReport = {
    copy {
        from "$runner.projectRootPath" + "/src/test/resources/img/logo.svg"
        into "$runner.projectRootPath" + "/target/site/serenity/images"
    }
    File myFile = new File("$runner.projectRootPath" + "/target/site/serenity/index.html")
    String newText = '<span class="projecttitle" style="font-family: cursive;top: 50px;left: 9%;font-weight: bolder;color: black;font-size: 2.2em;">' + runner.reportName + '</span>\n' + '<img alt="Logo" src="images/logo.svg" style="/* background: #006bff; */"><span class="projectname" style="margin-top: 20px;border-top-width: 2px;margin-right: 20px;">' + '<span class="projectsubtitle" style="font-family: auto;">Ambiente: ' + runner.buildProfile.toUpperCase() + '</span>'
    String fileText = myFile.text
    fileText = (fileText =~ /<span class="projectname">/).replaceFirst(newText)
    fileText = (fileText =~ /<span class="projectname">.*<\/span>/).replaceFirst('')
    myFile.write(fileText)
//    System.print(rootProject.file("$runner.projectRootPath" + "/target/site/serenity/index.html").text + "\n")
}

ext.setup = {
    if (System.getProperty('environment') == 'pro') {
        runner.cucumberOptions = "--tags '@layer:backend and @smoke-test and @execution:automatic and not @bug-type:known-issue and not @ignore'"
    }
    println "               â•”â•â•â•— \n" +
            "               â•‘â–ˆâ–ˆâ•‘ \n" +
            "               â•‘(O)â•‘â™« â™ª â™« â™ª\n" +
            "               â•šâ•â•â•\n" +
            "               â–„ â–ˆ â–„ â–ˆ â–„ â–„ â–ˆ â–„ â–ˆ â–„ â–ˆ\n" +
            "               Min- - - - - - - - - - - -â—Max\n"
    println "[INFO] RUNNING ğŸ‡¦â€‹ğŸ‡ºâ€‹ğŸ‡¹â€‹ğŸ‡´â€‹ğŸ‡²â€‹ğŸ‡¦â€‹ğŸ‡¹ğŸ‡®â€‹ğŸ‡´ğŸ‡³ ğŸ‡µâ€‹ğŸ‡·â€‹ğŸ‡´ğŸ‡¯â€‹ğŸ‡ªâ€‹ğŸ‡¨ğŸ‡¹"
    println "[INFO] PROJECT PATH: $runner.projectRootPath"
    println "[INFO] PROJECT NAME: $runner.projectName"
    println "[INFO] ENVIRONMENT: $runner.buildProfile"
    println "[INFO] CUCUMBER OPTIONS: $runner.cucumberOptions"
    println "[INFO] TESTRAIL ENABLED:  ${testrailEnable}"
}



